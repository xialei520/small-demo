<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<form id="demo" method="post" action="http://localhost:3000" enctype="multipart/form-data">
		<p>广告名称: <input type="text" name="demo" value='xixi'></p>
		<p>广告类别: <select name="demo2">
			<option value="1">轮播图</option>
			<option value="2">轮播图底部广告</option>
			<option value="3">热门回收广告</option>
			<option value="4">优品精选广告</option>

		</select></p>
		<p><input type="file" name="photo" multiple="multiple"></p>
		<p><input type="button" id="btn" value="添加"></p>
		<button type="submit">提交</button>
	</form>
	<script type="text/javascript">

		// let formdata = new FormData();
		// formdata.append('name', 'xialei')
		// console.log(formdata.get('name'))
		// formdata.set('name', 'xiaowang')
		// console.log(formdata.get('name'))
		// 
		let btn = document.getElementById('btn');
		btn.onclick = function(){
			let form = document.getElementById('demo');
			let formdata = new FormData(form);
			let xhr = new XMLHttpRequest();
			xhr.open('post', 'http://localhost:3000');
			xhr.onreadystatechange = () => {
				if(xhr.readyState == 4 && xhr.status == 200 || xhr.status == 304){
					console.log(xhr.responseText)
				}
			}
			xhr.send(formdata);
			 
		}
	</script>
</body>
</html>